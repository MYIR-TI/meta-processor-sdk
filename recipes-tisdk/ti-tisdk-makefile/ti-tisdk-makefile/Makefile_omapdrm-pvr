# omapdrm-pvr module
omapdrm-pvr: linux
	@echo ================================
	@echo      Building omapdrm-pvr
	@echo ================================
	@cd board-support/extra-drivers; \
	cd `find . -maxdepth 1 -name "omapdrm-pvr*" -type d`; \
	make -C ./eurasia_km/eurasiacon/build/linux2/omap5430_linux ARCH=arm KERNELDIR=$(LINUXKERNEL_INSTALL_DIR)

omapdrm-pvr_clean:
	@echo ================================
	@echo      Cleaning omapdrm-pvr
	@echo ================================
	@cd board-support/extra-drivers; \
	cd `find . -maxdepth 1 -name "omapdrm-pvr*" -type d`; \
	make -C ./eurasia_km/eurasiacon/build/linux2/omap5430_linux ARCH=arm KERNELDIR=$(LINUXKERNEL_INSTALL_DIR) clean

omapdrm-pvr_install:
	@echo ================================
	@echo      Installing omapdrm-pvr
	@echo ================================
	@cd board-support/extra-drivers; \
	cd `find . -maxdepth 1 -name "omapdrm-pvr*" -type d`; \
	install -d $(DESTDIR)/lib/modules/`cat $(LINUXKERNEL_INSTALL_DIR)/include/config/kernel.release`/extra; \
	install -m 644 ./eurasia_km/eurasiacon/binary2_omap5430_linux_release/target/kbuild/omapdrm_pvr.ko \
		$(DESTDIR)/lib/modules/`cat $(LINUXKERNEL_INSTALL_DIR)/include/config/kernel.release`/extra

