From c6126adee54e52e8ce27043055e0ff202f1ca03c Mon Sep 17 00:00:00 2001
From: Jacob Stiffler <j-stiffler@ti.com>
Date: Wed, 16 Sep 2015 10:35:59 -0400
Subject: [PATCH] HACK: remoteproc: Prevent backtrace for RSC_INTMEM
 deprecation warning

* The backtrace during boot makes it appear that there is a serious
  problem even though it is a warning about a feature being deprecated
  in the near future.
* Change the WARN() to a dev_warn()

Signed-off-by: Jacob Stiffler <j-stiffler@ti.com>
---
 drivers/remoteproc/remoteproc_core.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/remoteproc/remoteproc_core.c b/drivers/remoteproc/remoteproc_core.c
index 8656094..a75f30e 100644
--- a/drivers/remoteproc/remoteproc_core.c
+++ b/drivers/remoteproc/remoteproc_core.c
@@ -870,7 +870,7 @@ static int rproc_handle_intmem(struct rproc *rproc, struct fw_rsc_intmem *rsc,
 	void *va;
 	int ret;
 
-	WARN(1, "RSC_INTMEM is deprecated. Please do not use this resource type to support loading into internal memories.\n");
+	dev_warn(dev, "RSC_INTMEM is deprecated. Please do not use this resource type to support loading into internal memories.\n");
 
 	if (sizeof(*rsc) > avail) {
 		dev_err(dev, "intmem rsc is truncated\n");
-- 
1.9.1

